<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Guides - MilesAI</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        :root {
            --page-bg: #FAFAFA;
            --card-bg: #FFFFFF;
            --text-primary: #101828;
            --text-secondary: #344054;
            --text-muted: #667085;
            --border-color: #E4E7EC;
            --accent-green: #0BA457;
            --accent-green-light: #ECFDF3;
            --accent-green-dark: #027A48;
            --accent-orange: #DF5030;
            --accent-orange-light: #FFF4ED;
            --accent-blue: #1570EF;
            --accent-blue-light: #EFF8FF;
            --accent-yellow: #F79009;
            --accent-yellow-light: #FFFAEB;
            --accent-purple: #7A5AF8;
            --accent-purple-light: #F4F3FF;
            --shadow-sm: 0 1px 2px rgba(16, 24, 40, 0.05);
            --shadow-md: 0 4px 8px -2px rgba(16, 24, 40, 0.1), 0 2px 4px -2px rgba(16, 24, 40, 0.06);
            --shadow-lg: 0 12px 16px -4px rgba(16, 24, 40, 0.08), 0 4px 6px -2px rgba(16, 24, 40, 0.03);
            --shadow-xl: 0 20px 24px -4px rgba(16, 24, 40, 0.08), 0 8px 8px -4px rgba(16, 24, 40, 0.03);
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-2xl: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--page-bg);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        body::before {
            display: none;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 32px 24px;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, var(--accent-blue-light) 0%, #F0F9FF 50%, var(--accent-green-light) 100%);
            border-radius: var(--radius-2xl);
            padding: 48px 40px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -5%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(21, 112, 239, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -20%;
            left: 10%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(11, 164, 87, 0.1) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero__badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: var(--accent-blue);
            color: white;
            padding: 6px 14px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 16px;
        }

        .hero__title {
            font-size: 42px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.1;
        }

        .hero__subtitle {
            font-size: 18px;
            color: var(--text-secondary);
            max-width: 600px;
            margin-bottom: 24px;
        }

        .hero__stats {
            display: flex;
            gap: 32px;
            flex-wrap: wrap;
        }

        .hero__stat {
            display: flex;
            flex-direction: column;
        }

        .hero__stat-value {
            font-size: 28px;
            font-weight: 800;
            color: var(--accent-blue);
        }

        .hero__stat-label {
            font-size: 13px;
            color: var(--text-muted);
            font-weight: 500;
        }

        /* Search & Filter */
        .toolbar {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 280px;
            position: relative;
        }

        .search-box__input {
            width: 100%;
            padding: 14px 20px 14px 48px;
            border: 2px solid var(--border-color);
            border-radius: var(--radius-lg);
            font-size: 16px;
            font-family: inherit;
            background: var(--card-bg);
            color: var(--text-primary);
            transition: all 0.2s ease;
        }

        .search-box__input:focus {
            outline: none;
            border-color: var(--accent-blue);
            box-shadow: 0 0 0 4px rgba(21, 112, 239, 0.1);
        }

        .search-box__icon {
            position: absolute;
            left: 16px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
        }

        .filter-pills {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .filter-pill {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 10px 18px;
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 100px;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .filter-pill:hover {
            border-color: var(--accent-blue);
            color: var(--accent-blue);
        }

        .filter-pill--active {
            background: var(--accent-blue);
            border-color: var(--accent-blue);
            color: white;
        }

        /* Guides Grid */
        .guides-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .guide-card {
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            overflow: hidden;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .guide-card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-4px);
            border-color: transparent;
        }

        .guide-card__image {
            width: 100%;
            height: 180px;
            object-fit: cover;
            background: linear-gradient(135deg, var(--accent-blue-light) 0%, var(--accent-green-light) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .guide-card__image-icon {
            font-size: 64px;
            opacity: 0.9;
        }

        .guide-card__difficulty {
            position: absolute;
            top: 12px;
            right: 12px;
            padding: 4px 12px;
            border-radius: 100px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .guide-card__difficulty--beginner {
            background: var(--accent-green);
            color: white;
        }

        .guide-card__difficulty--intermediate {
            background: var(--accent-blue);
            color: white;
        }

        .guide-card__difficulty--advanced {
            background: var(--accent-orange);
            color: white;
        }

        .guide-card__content {
            padding: 24px;
        }

        .guide-card__category {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-blue);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .guide-card__title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.3;
        }

        .guide-card__summary {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .guide-card__meta {
            display: flex;
            gap: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--border-color);
        }

        .guide-card__meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .guide-card__meta-item svg {
            width: 16px;
            height: 16px;
        }

        /* Featured Guide */
        .featured-section {
            margin-bottom: 40px;
        }

        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .section-title svg {
            color: var(--accent-blue);
        }

        .featured-guide {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            background: var(--card-bg);
            border-radius: var(--radius-2xl);
            overflow: hidden;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .featured-guide:hover {
            box-shadow: var(--shadow-xl);
            border-color: transparent;
        }

        .featured-guide__image {
            background: linear-gradient(135deg, #667EEA 0%, #764BA2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 300px;
            position: relative;
        }

        .featured-guide__image-icon {
            font-size: 96px;
            color: white;
            opacity: 0.9;
        }

        .featured-guide__badge {
            position: absolute;
            top: 20px;
            left: 20px;
            background: white;
            color: #667EEA;
            padding: 6px 14px;
            border-radius: 100px;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .featured-guide__content {
            padding: 40px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .featured-guide__category {
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-purple);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
        }

        .featured-guide__title {
            font-size: 28px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 16px;
            line-height: 1.2;
        }

        .featured-guide__summary {
            font-size: 16px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 24px;
        }

        .featured-guide__meta {
            display: flex;
            gap: 24px;
        }

        .featured-guide__meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: var(--text-muted);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(16, 24, 40, 0.6);
            backdrop-filter: blur(4px);
            z-index: 1000;
            overflow-y: auto;
            padding: 40px 24px;
        }

        .modal-overlay--active {
            display: flex;
            align-items: flex-start;
            justify-content: center;
        }

        .modal {
            background: var(--card-bg);
            border-radius: var(--radius-2xl);
            max-width: 900px;
            width: 100%;
            margin: auto;
            box-shadow: var(--shadow-xl);
            animation: modalSlideIn 0.3s ease-out;
            overflow: hidden;
        }

        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .modal__header {
            position: relative;
            padding: 40px 40px 32px;
            background: linear-gradient(135deg, var(--accent-blue-light) 0%, #F0F9FF 100%);
        }

        .modal__close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s ease;
            box-shadow: var(--shadow-sm);
        }

        .modal__close:hover {
            transform: scale(1.1);
            box-shadow: var(--shadow-md);
        }

        .modal__icon {
            font-size: 48px;
            margin-bottom: 16px;
        }

        .modal__category {
            font-size: 12px;
            font-weight: 600;
            color: var(--accent-blue);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }

        .modal__title {
            font-size: 32px;
            font-weight: 800;
            color: var(--text-primary);
            margin-bottom: 12px;
            line-height: 1.2;
        }

        .modal__meta {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .modal__meta-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 14px;
            color: var(--text-secondary);
        }

        .modal__content {
            padding: 40px;
        }

        .guide-section {
            margin-bottom: 32px;
        }

        .guide-section:last-child {
            margin-bottom: 0;
        }

        .guide-section__title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .guide-section__title svg {
            color: var(--accent-blue);
        }

        .guide-section__content {
            font-size: 15px;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 16px;
        }

        .guide-section__points {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .guide-section__points li {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 14px 16px;
            background: var(--page-bg);
            border-radius: var(--radius-md);
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .guide-section__points li::before {
            content: '';
            width: 20px;
            height: 20px;
            min-width: 20px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%230BA457' stroke-width='3'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M5 13l4 4L19 7'/%3E%3C/svg%3E") no-repeat center;
            background-size: contain;
            margin-top: 2px;
        }

        .action-box {
            background: linear-gradient(135deg, var(--accent-green-light) 0%, #F0FDF4 100%);
            border-radius: var(--radius-lg);
            padding: 24px;
            border-left: 4px solid var(--accent-green);
        }

        .action-box__title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            color: var(--accent-green-dark);
            margin-bottom: 16px;
        }

        .action-box__list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .action-box__list li {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 14px;
            color: var(--text-primary);
            font-weight: 500;
        }

        .action-box__list li::before {
            content: '';
            width: 20px;
            height: 20px;
            border: 2px solid var(--accent-green);
            border-radius: 4px;
        }

        .resources-box {
            background: var(--page-bg);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-top: 24px;
        }

        .resources-box__title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 16px;
        }

        .resources-box__list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .resources-box__link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            background: var(--card-bg);
            border-radius: var(--radius-md);
            color: var(--accent-blue);
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            transition: all 0.2s ease;
        }

        .resources-box__link:hover {
            background: var(--accent-blue-light);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            background: var(--card-bg);
            border-radius: var(--radius-xl);
            border: 1px solid var(--border-color);
        }

        .empty-state__icon {
            width: 64px;
            height: 64px;
            margin: 0 auto 16px;
            color: var(--text-muted);
        }

        .empty-state__title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .empty-state__text {
            font-size: 14px;
            color: var(--text-muted);
        }

        /* Responsive */
        @media (max-width: 900px) {
            .featured-guide {
                grid-template-columns: 1fr;
            }

            .featured-guide__image {
                min-height: 200px;
            }

            .featured-guide__content {
                padding: 32px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 16px;
            }

            .hero {
                padding: 32px 24px;
            }

            .hero__title {
                font-size: 28px;
            }

            .toolbar {
                flex-direction: column;
            }

            .guides-grid {
                grid-template-columns: 1fr;
            }

            .modal-overlay {
                padding: 16px;
            }

            .modal__header,
            .modal__content {
                padding: 24px;
            }

            .modal__title {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Hero Section -->
        <section class="hero">
            <span class="hero__badge">
                <i data-lucide="book-open"></i>
                Learn Travel Hacking
            </span>
            <h1 class="hero__title">Quick Guides</h1>
            <p class="hero__subtitle">
                Focused, actionable guides to help you master travel hacking fundamentals.
                From beginner basics to advanced strategies.
            </p>
            <div class="hero__stats">
                <div class="hero__stat">
                    <span class="hero__stat-value" id="total-guides">0</span>
                    <span class="hero__stat-label">Total Guides</span>
                </div>
                <div class="hero__stat">
                    <span class="hero__stat-value" id="avg-read-time">0 min</span>
                    <span class="hero__stat-label">Avg Read Time</span>
                </div>
                <div class="hero__stat">
                    <span class="hero__stat-value" id="beginner-count">0</span>
                    <span class="hero__stat-label">Beginner Friendly</span>
                </div>
            </div>
        </section>

        <!-- Search & Filters -->
        <div class="toolbar">
            <div class="search-box">
                <i data-lucide="search" class="search-box__icon"></i>
                <input type="text" class="search-box__input" id="search-input"
                       placeholder="Search guides by topic...">
            </div>
            <div class="filter-pills" id="difficulty-filters">
                <button class="filter-pill filter-pill--active" data-difficulty="all">
                    <i data-lucide="layers"></i>
                    All Levels
                </button>
                <button class="filter-pill" data-difficulty="beginner">
                    <i data-lucide="sprout"></i>
                    Beginner
                </button>
                <button class="filter-pill" data-difficulty="intermediate">
                    <i data-lucide="trending-up"></i>
                    Intermediate
                </button>
                <button class="filter-pill" data-difficulty="advanced">
                    <i data-lucide="rocket"></i>
                    Advanced
                </button>
            </div>
        </div>

        <!-- Featured Guide -->
        <section class="featured-section" id="featured-section">
            <h2 class="section-title">
                <i data-lucide="star"></i>
                Featured Guide
            </h2>
            <div class="featured-guide" id="featured-guide">
                <!-- Featured guide loaded dynamically -->
            </div>
        </section>

        <!-- All Guides -->
        <section>
            <h2 class="section-title">
                <i data-lucide="library"></i>
                All Guides
            </h2>
            <div class="guides-grid" id="guides-grid">
                <!-- Guides loaded dynamically -->
            </div>
        </section>

        <!-- Empty State -->
        <div class="empty-state" id="empty-state" style="display: none;">
            <i data-lucide="search-x" class="empty-state__icon"></i>
            <h3 class="empty-state__title">No guides found</h3>
            <p class="empty-state__text">Try adjusting your search or filters</p>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal" id="modal">
            <!-- Modal content loaded dynamically -->
        </div>
    </div>

    <script>
        let guides = [];
        let currentFilter = 'all';
        let currentSearch = '';

        async function loadGuides() {
            try {
                const response = await fetch('../../source/quick-guides.json');
                const data = await response.json();
                guides = data.guides;
                render();
            } catch (error) {
                console.error('Error loading guides:', error);
                showMockData();
            }
        }

        function showMockData() {
            guides = [
                {
                    id: 'getting-started',
                    title: 'Getting Started with Travel Hacking',
                    summary: 'Learn the foundational concepts of travel hacking, including how to start earning points, understanding loyalty programs, and setting realistic goals for your first redemption.',
                    icon: 'ðŸš€',
                    category: 'Fundamentals',
                    difficulty: 'beginner',
                    read_time: '8 min',
                    last_updated: '2025-01-10',
                    featured: true,
                    cover_image: '',
                    sections: [
                        {
                            title: 'What is Travel Hacking?',
                            content: 'Travel hacking is the art of maximizing travel rewards to fly business class and stay at luxury hotels for a fraction of the cost.',
                            key_points: [
                                'Earn points through credit cards, shopping portals, and strategic spending',
                                'Transfer points to airline and hotel partners for maximum value',
                                'Book award flights for pennies on the dollar compared to cash prices',
                                'Achieve elite status for upgrades and perks'
                            ]
                        },
                        {
                            title: 'Building Your Foundation',
                            content: 'Start with one flexible points currency and one airline loyalty account.',
                            key_points: [
                                'Choose Chase, Amex, or Citi as your primary points currency',
                                'Sign up for relevant airline and hotel programs',
                                'Set a goal for your first redemption to stay motivated'
                            ]
                        }
                    ],
                    action_items: [
                        'Sign up for 2-3 loyalty programs',
                        'Check your credit score',
                        'Research your first credit card',
                        'Plan your first dream trip'
                    ],
                    resources: [
                        { name: 'Credit Card Comparison Tool', url: '#' },
                        { name: 'Loyalty Program Guide', url: '#' }
                    ]
                },
                {
                    id: 'credit-card-basics',
                    title: 'Credit Card Rewards 101',
                    summary: 'Understand how credit card points work, the best cards for beginners, and how to maximize sign-up bonuses without overspending.',
                    icon: 'ðŸ’³',
                    category: 'Credit Cards',
                    difficulty: 'beginner',
                    read_time: '10 min',
                    last_updated: '2025-01-08',
                    featured: false,
                    cover_image: '',
                    sections: [
                        {
                            title: 'Types of Credit Card Rewards',
                            content: 'Understanding the difference between fixed-value, transferable, and co-branded cards.',
                            key_points: [
                                'Cash back cards offer simplicity but limited ceiling',
                                'Transferable points (Chase, Amex) offer most flexibility',
                                'Co-branded cards provide direct earning with specific programs',
                                'Annual fees can be worth it for the right spend patterns'
                            ]
                        }
                    ],
                    action_items: [
                        'Calculate your monthly spending by category',
                        'Compare 3 credit cards that match your spend',
                        'Apply for your first travel rewards card'
                    ],
                    resources: [
                        { name: 'Best Cards for Beginners', url: '#' }
                    ]
                },
                {
                    id: 'sweet-spot-booking',
                    title: 'Finding Award Sweet Spots',
                    summary: 'Master the art of finding exceptional value redemptions where you get outsized value for your points.',
                    icon: 'ðŸŽ¯',
                    category: 'Redemptions',
                    difficulty: 'intermediate',
                    read_time: '12 min',
                    last_updated: '2025-01-05',
                    featured: false,
                    cover_image: '',
                    sections: [
                        {
                            title: 'What Makes a Sweet Spot?',
                            content: 'A sweet spot is when an award chart prices a route significantly below market value.',
                            key_points: [
                                'Distance-based charts can offer incredible value on long routes',
                                'Partner awards often bypass fuel surcharges',
                                'Off-peak pricing can cut costs by 30-50%',
                                'Fifth freedom routes offer premium cabin deals'
                            ]
                        }
                    ],
                    action_items: [
                        'Research your home airport sweet spots',
                        'Sign up for award availability alerts',
                        'Practice searching on partner sites'
                    ],
                    resources: [
                        { name: 'Sweet Spot Database', url: '#' }
                    ]
                },
                {
                    id: 'transfer-partners',
                    title: 'Mastering Transfer Partners',
                    summary: 'Learn how to use transfer partners effectively to unlock the best redemptions across multiple airlines and hotels.',
                    icon: 'ðŸ”„',
                    category: 'Transfers',
                    difficulty: 'intermediate',
                    read_time: '15 min',
                    last_updated: '2025-01-02',
                    featured: false,
                    cover_image: '',
                    sections: [
                        {
                            title: 'Understanding Transfer Ecosystems',
                            content: 'Each bank has unique transfer partners that can unlock specific value.',
                            key_points: [
                                'Chase Ultimate Rewards: United, Hyatt, Southwest, and more',
                                'Amex Membership Rewards: Delta, ANA, Marriott, and more',
                                'Citi ThankYou: Turkish, Singapore, JetBlue, and more',
                                'Transfer bonuses can add 20-40% extra points'
                            ]
                        }
                    ],
                    action_items: [
                        'Map your points to potential destinations',
                        'Set alerts for transfer bonuses',
                        'Only transfer for confirmed bookings'
                    ],
                    resources: [
                        { name: 'Transfer Partner Chart', url: '#' }
                    ]
                },
                {
                    id: 'elite-status',
                    title: 'Achieving Elite Status',
                    summary: 'Strategies for earning and maintaining airline and hotel elite status, including status matches and challenges.',
                    icon: 'ðŸ‘‘',
                    category: 'Status',
                    difficulty: 'advanced',
                    read_time: '18 min',
                    last_updated: '2024-12-28',
                    featured: false,
                    cover_image: '',
                    sections: [
                        {
                            title: 'Is Status Worth Pursuing?',
                            content: 'Elite status provides valuable benefits but requires significant commitment.',
                            key_points: [
                                'Upgrades become available at higher tiers',
                                'Lounge access saves money and stress',
                                'Bonus earning accelerates points accumulation',
                                'Status matches can jumpstart your journey'
                            ]
                        }
                    ],
                    action_items: [
                        'Calculate your annual travel patterns',
                        'Research status match opportunities',
                        'Plan a mileage run if mathematically sensible'
                    ],
                    resources: [
                        { name: 'Status Match Database', url: '#' }
                    ]
                }
            ];

            render();
        }

        function render() {
            updateStats();
            renderFeatured();
            renderGuides();
            setupEventListeners();
        }

        function updateStats() {
            document.getElementById('total-guides').textContent = guides.length;

            const avgTime = guides.reduce((sum, g) => {
                const mins = parseInt(g.read_time) || 0;
                return sum + mins;
            }, 0) / guides.length;
            document.getElementById('avg-read-time').textContent = Math.round(avgTime) + ' min';

            document.getElementById('beginner-count').textContent =
                guides.filter(g => g.difficulty === 'beginner').length;
        }

        function renderFeatured() {
            const featured = guides.find(g => g.featured);
            if (!featured) {
                document.getElementById('featured-section').style.display = 'none';
                return;
            }

            document.getElementById('featured-guide').innerHTML = `
                <div class="featured-guide__image" onclick="openGuide('${featured.id}')">
                    <span class="featured-guide__badge">Featured</span>
                    <span class="featured-guide__image-icon">${featured.icon}</span>
                </div>
                <div class="featured-guide__content" onclick="openGuide('${featured.id}')">
                    <div class="featured-guide__category">${featured.category}</div>
                    <h3 class="featured-guide__title">${featured.title}</h3>
                    <p class="featured-guide__summary">${featured.summary}</p>
                    <div class="featured-guide__meta">
                        <span class="featured-guide__meta-item">
                            <i data-lucide="clock"></i>
                            ${featured.read_time} read
                        </span>
                        <span class="featured-guide__meta-item">
                            <i data-lucide="signal"></i>
                            ${featured.difficulty}
                        </span>
                    </div>
                </div>
            `;
            lucide.createIcons();
        }

        function renderGuides() {
            const filtered = filterGuides();
            const grid = document.getElementById('guides-grid');
            const emptyState = document.getElementById('empty-state');

            if (filtered.length === 0) {
                grid.style.display = 'none';
                emptyState.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            emptyState.style.display = 'none';

            grid.innerHTML = filtered.filter(g => !g.featured).map(guide => `
                <article class="guide-card" onclick="openGuide('${guide.id}')">
                    <div class="guide-card__image">
                        <span class="guide-card__image-icon">${guide.icon}</span>
                        <span class="guide-card__difficulty guide-card__difficulty--${guide.difficulty}">
                            ${guide.difficulty}
                        </span>
                    </div>
                    <div class="guide-card__content">
                        <div class="guide-card__category">
                            <i data-lucide="tag"></i>
                            ${guide.category}
                        </div>
                        <h3 class="guide-card__title">${guide.title}</h3>
                        <p class="guide-card__summary">${guide.summary}</p>
                        <div class="guide-card__meta">
                            <span class="guide-card__meta-item">
                                <i data-lucide="clock"></i>
                                ${guide.read_time} read
                            </span>
                            <span class="guide-card__meta-item">
                                <i data-lucide="calendar"></i>
                                ${formatDate(guide.last_updated)}
                            </span>
                        </div>
                    </div>
                </article>
            `).join('');
            lucide.createIcons();
        }

        function filterGuides() {
            return guides.filter(guide => {
                if (currentFilter !== 'all' && guide.difficulty !== currentFilter) return false;
                if (currentSearch) {
                    const search = currentSearch.toLowerCase();
                    return guide.title.toLowerCase().includes(search) ||
                           guide.summary.toLowerCase().includes(search) ||
                           guide.category.toLowerCase().includes(search);
                }
                return true;
            });
        }

        function openGuide(guideId) {
            const guide = guides.find(g => g.id === guideId);
            if (!guide) return;

            const modal = document.getElementById('modal');
            modal.innerHTML = `
                <div class="modal__header">
                    <button class="modal__close" onclick="closeModal()">
                        <i data-lucide="x"></i>
                    </button>
                    <div class="modal__icon">${guide.icon}</div>
                    <div class="modal__category">${guide.category}</div>
                    <h2 class="modal__title">${guide.title}</h2>
                    <div class="modal__meta">
                        <span class="modal__meta-item">
                            <i data-lucide="clock"></i>
                            ${guide.read_time} read
                        </span>
                        <span class="modal__meta-item">
                            <i data-lucide="signal"></i>
                            ${guide.difficulty}
                        </span>
                        <span class="modal__meta-item">
                            <i data-lucide="calendar"></i>
                            Updated ${formatDate(guide.last_updated)}
                        </span>
                    </div>
                </div>

                <div class="modal__content">
                    ${guide.sections.map(section => `
                        <div class="guide-section">
                            <h3 class="guide-section__title">
                                <i data-lucide="chevron-right"></i>
                                ${section.title}
                            </h3>
                            <p class="guide-section__content">${section.content}</p>
                            <ul class="guide-section__points">
                                ${section.key_points.map(point => `<li>${point}</li>`).join('')}
                            </ul>
                        </div>
                    `).join('')}

                    <div class="action-box">
                        <h4 class="action-box__title">
                            <i data-lucide="check-square"></i>
                            Action Items
                        </h4>
                        <ul class="action-box__list">
                            ${guide.action_items.map(item => `<li>${item}</li>`).join('')}
                        </ul>
                    </div>

                    <div class="resources-box">
                        <h4 class="resources-box__title">
                            <i data-lucide="link-2"></i>
                            Related Resources
                        </h4>
                        <ul class="resources-box__list">
                            ${guide.resources.map(resource => `
                                <li>
                                    <a href="${resource.url}" class="resources-box__link">
                                        <i data-lucide="arrow-right"></i>
                                        ${resource.name}
                                    </a>
                                </li>
                            `).join('')}
                        </ul>
                    </div>
                </div>
            `;

            document.getElementById('modal-overlay').classList.add('modal-overlay--active');
            document.body.style.overflow = 'hidden';
            lucide.createIcons();
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.remove('modal-overlay--active');
            document.body.style.overflow = '';
        }

        function setupEventListeners() {
            // Difficulty filters
            document.querySelectorAll('.filter-pill').forEach(pill => {
                pill.addEventListener('click', () => {
                    document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('filter-pill--active'));
                    pill.classList.add('filter-pill--active');
                    currentFilter = pill.dataset.difficulty;
                    renderGuides();
                });
            });

            // Search
            document.getElementById('search-input').addEventListener('input', (e) => {
                currentSearch = e.target.value;
                renderGuides();
            });

            // Modal close on overlay click
            document.getElementById('modal-overlay').addEventListener('click', (e) => {
                if (e.target.id === 'modal-overlay') closeModal();
            });

            // Modal close on Escape
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeModal();
            });
        }

        function formatDate(dateStr) {
            return new Date(dateStr).toLocaleDateString('en-US', {
                month: 'short',
                day: 'numeric',
                year: 'numeric'
            });
        }

        document.addEventListener('DOMContentLoaded', loadGuides);
        lucide.createIcons();
    </script>
</body>
</html>

